Представляется, что данный сервис типа AP, так как нам некритично, если связь где-то оборвалась и при запросе на тональность мнения о каком-то объекте мы не учитываем, например, несколько десятков последних твитов о нем.
Данный сервис всегда доступен пользователю на чтение/запись.
Физически состоит из равноправных с точки зрения обновления информации серверов, поддерживающих хранение определенного количества твитов/объектов.


1. Кажется, нужно больше деталей в описании. У вас есть твиты, и есть оценки, которые пересчитываются на их основе.
Ответ: да, у объекта, как было показано в API, будут храниться текущие оценки, и ссылки на твиты, где они их получили,
соответственно храня количество этих оценок, при добавлении новой, мы без проблем можем пересчитать среднюю оценку объекта и обновить его состояние.
При добавлении твита, для каждого из его объектов смотрю, есть ли он уже в базе, если есть, то обновляю информацию о нем,
если нет, то добавляю новый.
2. Как я понимаю, упоминание AP системы в вашем описании означает, что твит может попасть на любой сервер, и система должна его принять.
А как это повлияет на оценки объектов?
Ответ: так как я говорил, что консистентность нам не очень важна, то да, твит может попасть на любой сервер, и система должна его принять,
вне зависимости от того, находится ли система в расщепленном состоянии или нет. Просто мы можем отмечать, что этот твит/объект не согласован
с остальными серверами и потом, когда связь восстановится, система смерджит все такие твиты/объекты между своими серверами.
3. Что система будет делать с оценками в расщеплённом состоянии?
Ответ: до мерджа храним новые твиты/объекты и оценки на них, как есть. Будем поддерживать их и отвечать пользователю ту информацию, которая имеется на данный момент.
4. И как починить целостность оценок при завершении расщепления?
Ответ: все несогласованные твиты/объекты мерджим в один при равенстве, целостность оценки не нарушится, без проблем можем пересчитать среднюю.
5. И самое интересное: как вы планируете реализовать это на практике?
Будете использовать готовую AP базу, или реализуете какие-то вспомогательные запросы, с помощью которых части системы будут отбениваться данными?
Ответ: планирую использовать MongoDB, и реализую вспомогательные запросы, с помощью которых части системы будут мерджить данные,
в согласованное состояние при заверщении расщепления.